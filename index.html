<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Yandex Android Browser Sandbox Test (POC)</title>
  <style>
    iframe { width: 90vw; height: 200px; border: 2px solid #333; margin-bottom:10px;}
    button { font-size:18px; margin-top:18px;}
  </style>
</head>
<body>
  <h2>Проверка sandbox: allow-popups <i>(Yandex Android Browser POC)</i></h2>
  <p>1. Обычный iframe (без sandbox):</p>
  <iframe srcdoc="<script>document.body.innerText='Script worked!';</script>"></iframe>

  <p>2. С sandbox="allow-popups": <b>(В норме скрипты не выполняются)</b></p>
  <iframe sandbox="allow-popups" srcdoc="<script>document.body.innerText='Script executed! Should NOT happen.';</script>"></iframe>

  <p>3. С sandbox="allow-popups allow-scripts": <b>(разрешено выполнение скриптов)</b></p>
  <iframe sandbox="allow-popups allow-scripts" srcdoc="<script>document.body.innerText='Script worked with allow-scripts!';</script>"></iframe>

  <hr>
  <h3>POC button</h3>
  <button onclick="window.open('intent://ya.ru','_blank')">
    Тест: Pop-up с intent-схемой
  </button>
  <p>
    <small>Ожидание: Во втором iframe код JS НЕ должен выполниться.<br>
    В Яндекс Браузере для Android: JS может выполниться, что не соответствует ожиданию безопасности.</small>
  </p>
</body>
</html>
